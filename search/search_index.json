{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Home","text":"<p>The illumination package is a set of tools for visualizing astronomical images. The illustrations it produces can be saved either as static images or as linked animations. It was designed with imaging from the NASA TESS Mission in mind, but may be generally useful for any time-series imaging data.</p>"},{"location":"basics/","title":"Basic Principles","text":"In\u00a0[1]: Copied! <pre>from illumination import *\n</pre> from illumination import * In\u00a0[2]: Copied! <pre>from illumination.cartoons import create_test_stamp\nstamp = create_test_stamp(N=10, seed=42)\n</pre> from illumination.cartoons import create_test_stamp stamp = create_test_stamp(N=10, seed=42) <p>The <code>make_image_sequence</code> function is a general wrapper that does a decent job of figuring out what kind of sequence should be made out of the given inputs.</p> In\u00a0[3]: Copied! <pre>seq = make_image_sequence(stamp)\n</pre> seq = make_image_sequence(stamp) <p><code>make_image_sequence</code> should be able to handle at least the following types of input:</p> <ul> <li>a single FITS filename, and an <code>ext_image=</code> keyword for the extension to use</li> <li>a list of FITS filenames, and an <code>ext_image=</code> keyword</li> <li>a glob pattern to search for FITS files, and an <code>ext_image=</code> keyword</li> <li>a single FITS HDUList, and an <code>ext_image=</code> keyword</li> <li>a list of loaded FITS HDULists, and an <code>ext_image=</code> keyword</li> <li>a <code>Stamp</code> object from the <code>cosmics</code> package.</li> </ul> <p>Each <code>sequence</code> has a <code>.time</code> attribute. It is an <code>astropy.time</code> object, and can be indexed as an array. If times are fake (for example, if they are simply image number or cadence number), then we pretend (artificially) that the times are <code>gps</code> format with a cadence of 1s.</p> In\u00a0[4]: Copied! <pre>print(f\"\"\"\n{seq} \n has {len(seq.time)} times defined,\n spanning {seq.time[0]} \n       to {seq.time[-1]}\n with a cadence of {seq.cadence().to('s'):.2}\"\"\")\n</pre> print(f\"\"\" {seq}   has {len(seq.time)} times defined,  spanning {seq.time[0]}         to {seq.time[-1]}  with a cadence of {seq.cadence().to('s'):.2}\"\"\") <pre>\n&lt;stamp-sequence of 10 images of shape (5, 5)&gt; \n has 10 times defined,\n spanning 2018-01-01 00:00:00.000 \n       to 2018-01-01 00:00:18.000\n with a cadence of 2.0 s\n</pre> <p>Each sequence can be indexed directly with <code>[i]</code> to extract the <code>i</code>th element of the dataset. Different types of sequences will store data in different ways. For a small stamp, it will generally load the entire 3D (x,y,t) dataset into memory. For a sequence of large FITS images, it will generally only load individual FITS images on the fly as needed, to preserve memory. These different background behaviors should hopefully remain hidden to the casual user.</p> In\u00a0[5]: Copied! <pre>fi, ax = plt.subplots(1,3, figsize=(10,3))\nfor i in range(3):\n    ax[i].imshow(seq[i])\n    ax[i].set_title(seq.time[i])\n</pre> fi, ax = plt.subplots(1,3, figsize=(10,3)) for i in range(3):     ax[i].imshow(seq[i])     ax[i].set_title(seq.time[i]) In\u00a0[6]: Copied! <pre>normal = imshowFrame(name='cecelia', \n                     data=seq)\nnormal\n</pre> normal = imshowFrame(name='cecelia',                       data=seq) normal Out[6]: <pre>&lt;imshow Frame | data=&lt;stamp-sequence of 10 images of shape (5, 5)&gt; | name=cecelia&gt;</pre> <p>Below, we can create a different frame using the same data, but by including the <code>processingsteps</code> keyword, it will subtract the mean image from each individual image before displaying it.</p> In\u00a0[7]: Copied! <pre>subtracted = imshowFrame(name='henrietta', \n                         data=seq, \n                         title='(median subtracted)',\n                         processingsteps=['subtractmean'])\nsubtracted\n</pre> subtracted = imshowFrame(name='henrietta',                           data=seq,                           title='(median subtracted)',                          processingsteps=['subtractmean']) subtracted Out[7]: <pre>&lt;imshow Frame | data=&lt;stamp-sequence of 10 images of shape (5, 5)&gt; | name=henrietta&gt;</pre> <p>We will be able to visualize these frames once they are included in an illustration.</p> In\u00a0[8]: Copied! <pre>i = GenericIllustration(imshows=[normal, subtracted])\ni.plot()\ni.animate('a-pair-of-frames.mp4');\n</pre> i = GenericIllustration(imshows=[normal, subtracted]) i.plot() i.animate('a-pair-of-frames.mp4'); <pre>                  [imshowframe] plotting &lt;F\"cecelia\"&gt; for the first time\n                  [imshowframe] {}\n          [genericillustration] {}\n          [genericillustration] included &lt;F\"cecelia\"&gt; in the shared color scheme\n               [stamp-sequence] creating a mean image for &lt;stamp-sequence of 10 images of shape (5,\n                                5)&gt;\n               [stamp-sequence]  included frame 1/10 in mean\r               [stamp-sequence]  included frame 2/10 in mean\r               [stamp-sequence]  included frame 3/10 in mean\r               [stamp-sequence]  included frame 4/10 in mean\r               [stamp-sequence]  included frame 5/10 in mean\r               [stamp-sequence]  included frame 6/10 in mean\r               [stamp-sequence]  included frame 7/10 in mean\r               [stamp-sequence]  included frame 8/10 in mean\r               [stamp-sequence]  included frame 9/10 in mean\r               [stamp-sequence]  included frame 10/10 in mean\r          [genericillustration] included &lt;F\"henrietta\"&gt; in the shared color scheme\n          [genericillustration] defined color scheme with   cmap=RdBu\n                                norm=&lt;matplotlib.colors.SymLogNorm object at 0x16bdb5af0&gt;\n                                ticks=[-355.1031326981831, -46.61562494544138, 0, 46.61562494544138,\n                                355.1031326981831]\n                  [imshowframe] added image of shape (5, 5) to &lt;F\"cecelia\"&gt;\n                  [imshowframe] making sure a shared colorbar is set up for &lt;F\"cecelia\"&gt;\n                  [imshowframe] added a shared colorbar for &lt;I\"Generic\"&gt;\n          [genericillustration] adding a new colorbar for 2 frame(s)\n                  [imshowframe] defining 2458119.5 as the time offset\n                  [imshowframe] added time label of \"t=2458119.50000+0.00000 d\" on &lt;F\"cecelia\"&gt;\n                  [imshowframe] added arrows on &lt;F\"cecelia\"&gt;\n                  [imshowframe] added title of \"TIC1234567890 (CAM1 | 913, 3900) SPM1 | 2s\" to\n                                &lt;F\"cecelia\"&gt;\n                  [imshowframe] plotting &lt;F\"henrietta\"&gt; for the first time\n                  [imshowframe] {}\n          [genericillustration] {}\n                  [imshowframe] added image of shape (5, 5) to &lt;F\"henrietta\"&gt;\n                  [imshowframe] making sure a shared colorbar is set up for &lt;F\"henrietta\"&gt;\n                  [imshowframe] defining 2458119.5 as the time offset\n                  [imshowframe] added time label of \"t=2458119.50000+0.00000 d\" on &lt;F\"henrietta\"&gt;\n                  [imshowframe] added arrows on &lt;F\"henrietta\"&gt;\n                  [imshowframe] added title of \"(median subtracted)\" to &lt;F\"henrietta\"&gt;\n          [genericillustration] about to animate 20 times at 1.0s cadence for &lt;I\"Generic\"&gt;\n          [genericillustration] 30 frames/second :\n          [genericillustration] the animation will be saved to a-pair-of-frames.mp4\n          [genericillustration]   1/20 at 2024-09-12 20:24:58.781\r</pre> <pre>          [genericillustration]   2/20 at 2024-09-12 20:24:59.050\r          [genericillustration]   3/20 at 2024-09-12 20:24:59.080\r          [genericillustration]   4/20 at 2024-09-12 20:24:59.108\r          [genericillustration]   5/20 at 2024-09-12 20:24:59.133\r          [genericillustration]   6/20 at 2024-09-12 20:24:59.159\r          [genericillustration]   7/20 at 2024-09-12 20:24:59.184\r          [genericillustration]   8/20 at 2024-09-12 20:24:59.213\r          [genericillustration]   9/20 at 2024-09-12 20:24:59.239\r</pre> <pre>          [genericillustration]   10/20 at 2024-09-12 20:24:59.267\r          [genericillustration]   11/20 at 2024-09-12 20:24:59.292\r          [genericillustration]   12/20 at 2024-09-12 20:24:59.318\r          [genericillustration]   13/20 at 2024-09-12 20:24:59.342\r          [genericillustration]   14/20 at 2024-09-12 20:24:59.368\r          [genericillustration]   15/20 at 2024-09-12 20:24:59.392\r          [genericillustration]   16/20 at 2024-09-12 20:24:59.418\r          [genericillustration]   17/20 at 2024-09-12 20:24:59.451\r</pre> <pre>          [genericillustration]   18/20 at 2024-09-12 20:24:59.480\r          [genericillustration]   19/20 at 2024-09-12 20:24:59.506\r          [genericillustration]   20/20 at 2024-09-12 20:24:59.535\r          [genericillustration] \n          [genericillustration] the animation is finished!\n</pre> <p></p> <p>Looking back at the <code>normal</code> and <code>subtracted</code> frames that we defined, we can see a few features. The data and times for the two frames are identical, so the images update synchronously at each timestep of the animation. The <code>subtracted</code> frame looks like noise scattered around 0, as we would expect for having subtracted off the mean image. We gave <code>subtracted</code> a custom title, but <code>normal</code> fell back on an initial best guess.</p> <p>If you want, you can access the individual frames inside an illustration through the <code>.frames</code> dictionary. This may come in handy if you want to modify the attributes of a frame once it's in an illustration, or change something in how it is plotted after calling <code>i.plot()</code>. (See examples below.)</p> In\u00a0[9]: Copied! <pre>print(f'{i} contains {len(i.frames)} frames: {list(i.frames.keys())})')\n</pre> print(f'{i} contains {len(i.frames)} frames: {list(i.frames.keys())})') <pre>&lt;I\"Generic\"&gt; contains 2 frames: ['cecelia', 'henrietta'])\n</pre> <p>By default, all image frames will share the same color mapping. We can let each frame have its own color mapping by setting the illustration's <code>sharecolorbar=</code> keyword to <code>False</code>.</p> In\u00a0[10]: Copied! <pre>i = GenericIllustration(imshows=[normal, subtracted], sharecolorbar=False)\ni.plot()\ni.animate('a-pair-of-frames-with-different-colorbars.mp4')\n</pre> i = GenericIllustration(imshows=[normal, subtracted], sharecolorbar=False) i.plot() i.animate('a-pair-of-frames-with-different-colorbars.mp4') <pre>                  [imshowframe] plotting &lt;F\"cecelia\"&gt; for the first time\n                  [imshowframe] {}\n                  [imshowframe] added image of shape (5, 5) to &lt;F\"cecelia\"&gt;\n                  [imshowframe] making sure a unique colorbar is set up for &lt;F\"cecelia\"&gt;\n                  [imshowframe] added a unique colorbar for &lt;F\"cecelia\"&gt;\n          [genericillustration] adding a new colorbar for 1 frame(s)\n                  [imshowframe] added time label of \"t=2458119.50000+0.00000 d\" on &lt;F\"cecelia\"&gt;\n                  [imshowframe] added arrows on &lt;F\"cecelia\"&gt;\n                  [imshowframe] added title of \"TIC1234567890 (CAM1 | 913, 3900) SPM1 | 2s\" to\n                                &lt;F\"cecelia\"&gt;\n                  [imshowframe] plotting &lt;F\"henrietta\"&gt; for the first time\n                  [imshowframe] {}\n                  [imshowframe] added image of shape (5, 5) to &lt;F\"henrietta\"&gt;\n                  [imshowframe] making sure a unique colorbar is set up for &lt;F\"henrietta\"&gt;\n                  [imshowframe] added a unique colorbar for &lt;F\"henrietta\"&gt;\n          [genericillustration] adding a new colorbar for 1 frame(s)\n                  [imshowframe] added time label of \"t=2458119.50000+0.00000 d\" on &lt;F\"henrietta\"&gt;\n                  [imshowframe] added arrows on &lt;F\"henrietta\"&gt;\n                  [imshowframe] added title of \"(median subtracted)\" to &lt;F\"henrietta\"&gt;\n          [genericillustration] about to animate 20 times at 1.0s cadence for &lt;I\"Generic\"&gt;\n          [genericillustration] 30 frames/second :\n          [genericillustration] the animation will be saved to a-pair-of-frames-with-different-\n                                colorbars.mp4\n          [genericillustration]   1/20 at 2024-09-12 20:24:59.868\r</pre> <pre>          [genericillustration]   2/20 at 2024-09-12 20:24:59.950\r          [genericillustration]   3/20 at 2024-09-12 20:25:00.025\r</pre> <pre>          [genericillustration]   4/20 at 2024-09-12 20:25:00.080\r          [genericillustration]   5/20 at 2024-09-12 20:25:00.122\r          [genericillustration]   6/20 at 2024-09-12 20:25:00.157\r</pre> <pre>          [genericillustration]   7/20 at 2024-09-12 20:25:00.186\r          [genericillustration]   8/20 at 2024-09-12 20:25:00.214\r          [genericillustration]   9/20 at 2024-09-12 20:25:00.241\r          [genericillustration]   10/20 at 2024-09-12 20:25:00.269\r</pre> <pre>          [genericillustration]   11/20 at 2024-09-12 20:25:00.297\r          [genericillustration]   12/20 at 2024-09-12 20:25:00.325\r          [genericillustration]   13/20 at 2024-09-12 20:25:00.353\r          [genericillustration]   14/20 at 2024-09-12 20:25:00.380\r</pre> <pre>          [genericillustration]   15/20 at 2024-09-12 20:25:00.408\r          [genericillustration]   16/20 at 2024-09-12 20:25:00.436\r          [genericillustration]   17/20 at 2024-09-12 20:25:00.467\r          [genericillustration]   18/20 at 2024-09-12 20:25:00.495\r</pre> <pre>          [genericillustration]   19/20 at 2024-09-12 20:25:00.524\r          [genericillustration]   20/20 at 2024-09-12 20:25:00.553\r          [genericillustration] \n          [genericillustration] the animation is finished!\n</pre> <p></p> <p>If you're trying to directly compare values across different frames, keep <code>sharecolorbar=True</code>. If you're looking for qualitative features and want to highlight the details unique to each frame, let each have its own colorbar. In this example, where the data were simulated to represent photon counts, we can see that the noise in the difference images is highest where the flux in the normal image is too.</p> In\u00a0[11]: Copied! <pre># first create a sequence\nbig = make_image_sequence(create_test_stamp(N=10, xsize=80, ysize=100))\n\n# then define some frames\nimage = imshowFrame(name='big-image', data=big, title='imshow')\nzoom = ZoomFrame(name='zoom', source=image, position=(25, 50), size=(20,10), title='zoom')\n\n# then populate an illustration with them\ni = GenericIllustration(imshows=[image, zoom])\ni.plot()\ni.animate('an-example-of-a-zoom.mp4', dpi=75)\n</pre> # first create a sequence big = make_image_sequence(create_test_stamp(N=10, xsize=80, ysize=100))  # then define some frames image = imshowFrame(name='big-image', data=big, title='imshow') zoom = ZoomFrame(name='zoom', source=image, position=(25, 50), size=(20,10), title='zoom')  # then populate an illustration with them i = GenericIllustration(imshows=[image, zoom]) i.plot() i.animate('an-example-of-a-zoom.mp4', dpi=75) <pre>                  [imshowframe] plotting &lt;F\"big-image\"&gt; for the first time\n                  [imshowframe] {}\n          [genericillustration] {}\n          [genericillustration] included &lt;F\"big-image\"&gt; in the shared color scheme\n          [genericillustration] included &lt;F\"zoom\"&gt; in the shared color scheme\n          [genericillustration] defined color scheme with   cmap=Blues\n                                norm=&lt;matplotlib.colors.LogNorm object at 0x1736c5670&gt;\n                                ticks=[21.972878571785586, 235.70697097470727, 2528.4705408334985]\n                  [imshowframe] added image of shape (100, 80) to &lt;F\"big-image\"&gt;\n                  [imshowframe] making sure a shared colorbar is set up for &lt;F\"big-image\"&gt;\n                  [imshowframe] added a shared colorbar for &lt;I\"Generic\"&gt;\n          [genericillustration] adding a new colorbar for 2 frame(s)\n                  [imshowframe] defining 2458119.5 as the time offset\n                  [imshowframe] added time label of \"t=2458119.50000+0.00000 d\" on &lt;F\"big-image\"&gt;\n                  [imshowframe] added arrows on &lt;F\"big-image\"&gt;\n                  [imshowframe] added title of \"imshow\" to &lt;F\"big-image\"&gt;\n                    [zoomframe] plotting &lt;F\"zoom\"&gt; for the first time\n                    [zoomframe] {}\n          [genericillustration] {}\n                    [zoomframe] added image of shape (10, 20) to &lt;F\"zoom\"&gt;\n          [genericillustration] about to animate 20 times at 1.0s cadence for &lt;I\"Generic\"&gt;\n          [genericillustration] 30 frames/second :\n          [genericillustration] the animation will be saved to an-example-of-a-zoom.mp4\n          [genericillustration]   1/20 at 2024-09-12 20:25:00.889\r          [genericillustration]   2/20 at 2024-09-12 20:25:00.949\r          [genericillustration]   3/20 at 2024-09-12 20:25:00.999\r          [genericillustration]   4/20 at 2024-09-12 20:25:01.037\r</pre> <pre>          [genericillustration]   5/20 at 2024-09-12 20:25:01.080\r          [genericillustration]   6/20 at 2024-09-12 20:25:01.106\r          [genericillustration]   7/20 at 2024-09-12 20:25:01.158\r          [genericillustration]   8/20 at 2024-09-12 20:25:01.177\r          [genericillustration]   9/20 at 2024-09-12 20:25:01.194\r          [genericillustration]   10/20 at 2024-09-12 20:25:01.212\r          [genericillustration]   11/20 at 2024-09-12 20:25:01.230\r          [genericillustration]   12/20 at 2024-09-12 20:25:01.249\r          [genericillustration]   13/20 at 2024-09-12 20:25:01.266\r          [genericillustration]   14/20 at 2024-09-12 20:25:01.282\r</pre> <pre>          [genericillustration]   15/20 at 2024-09-12 20:25:01.299\r          [genericillustration]   16/20 at 2024-09-12 20:25:01.316\r          [genericillustration]   17/20 at 2024-09-12 20:25:01.332\r          [genericillustration]   18/20 at 2024-09-12 20:25:01.348\r          [genericillustration]   19/20 at 2024-09-12 20:25:01.364\r          [genericillustration]   20/20 at 2024-09-12 20:25:01.380\r          [genericillustration] \n          [genericillustration] the animation is finished!\n</pre> <p>An example of a zoom movie.</p> In\u00a0[12]: Copied! <pre># first create a sequence\nbig = make_image_sequence(create_test_stamp(N=10, xsize=80, ysize=100))\n\n# then define some frames\nimage = imshowFrame(name='big-image', data=big, title='imshow')\nzoom = ZoomFrame(name='zoom', source=image, position=(25, 50), size=(20,10), title='zoom')\nsubtracted = imshowFrame(name='big-subtracted', data=big, title='subtracted', processingsteps=['subtractmedian'])\nsubtractedzoom = ZoomFrame(name='zoom-subtracted', source=subtracted, position=(25, 50), size=(20,10), title='zoom')\n\n# then populate an illustration with them\ni = GenericIllustration(imshows=[image, zoom, subtracted, subtractedzoom], imshowrows=2, \n                        figsize=(7,6), hspace=0.2, wspace=0.02, \n                        left=0.05, right=0.95, bottom=0.05, top=0.9)\ni.plot()\ni.animate('an-example-of-a-more-complicated-zoom.mp4', dpi=75)\n</pre> # first create a sequence big = make_image_sequence(create_test_stamp(N=10, xsize=80, ysize=100))  # then define some frames image = imshowFrame(name='big-image', data=big, title='imshow') zoom = ZoomFrame(name='zoom', source=image, position=(25, 50), size=(20,10), title='zoom') subtracted = imshowFrame(name='big-subtracted', data=big, title='subtracted', processingsteps=['subtractmedian']) subtractedzoom = ZoomFrame(name='zoom-subtracted', source=subtracted, position=(25, 50), size=(20,10), title='zoom')  # then populate an illustration with them i = GenericIllustration(imshows=[image, zoom, subtracted, subtractedzoom], imshowrows=2,                          figsize=(7,6), hspace=0.2, wspace=0.02,                          left=0.05, right=0.95, bottom=0.05, top=0.9) i.plot() i.animate('an-example-of-a-more-complicated-zoom.mp4', dpi=75) <pre>                  [imshowframe] plotting &lt;F\"big-image\"&gt; for the first time\n                  [imshowframe] {}\n          [genericillustration] {}\n          [genericillustration] included &lt;F\"big-image\"&gt; in the shared color scheme\n          [genericillustration] included &lt;F\"zoom\"&gt; in the shared color scheme\n               [stamp-sequence] creating a median image for &lt;stamp-sequence of 10 images of shape\n                                (100, 80)&gt;\n          [genericillustration] included &lt;F\"big-subtracted\"&gt; in the shared color scheme\n          [genericillustration] included &lt;F\"zoom-subtracted\"&gt; in the shared color scheme\n          [genericillustration] defined color scheme with   cmap=RdBu\n                                norm=&lt;matplotlib.colors.SymLogNorm object at 0x17ee92090&gt;\n                                ticks=[-1606.8634285464254, -40.47184964782226, 0,\n                                40.47184964782226, 1606.8634285464254]\n                  [imshowframe] added image of shape (100, 80) to &lt;F\"big-image\"&gt;\n                  [imshowframe] making sure a shared colorbar is set up for &lt;F\"big-image\"&gt;\n                  [imshowframe] added a shared colorbar for &lt;I\"Generic\"&gt;\n          [genericillustration] adding a new colorbar for 4 frame(s)\n                  [imshowframe] defining 2458119.5 as the time offset\n                  [imshowframe] added time label of \"t=2458119.50000+0.00000 d\" on &lt;F\"big-image\"&gt;\n                  [imshowframe] added arrows on &lt;F\"big-image\"&gt;\n                  [imshowframe] added title of \"imshow\" to &lt;F\"big-image\"&gt;\n                    [zoomframe] plotting &lt;F\"zoom\"&gt; for the first time\n                    [zoomframe] {}\n          [genericillustration] {}\n                    [zoomframe] added image of shape (10, 20) to &lt;F\"zoom\"&gt;\n                  [imshowframe] plotting &lt;F\"big-subtracted\"&gt; for the first time\n                  [imshowframe] {}\n          [genericillustration] {}\n                  [imshowframe] added image of shape (100, 80) to &lt;F\"big-subtracted\"&gt;\n                  [imshowframe] making sure a shared colorbar is set up for &lt;F\"big-subtracted\"&gt;\n                  [imshowframe] defining 2458119.5 as the time offset\n                  [imshowframe] added time label of \"t=2458119.50000+0.00000 d\" on &lt;F\"big-\n                                subtracted\"&gt;\n                  [imshowframe] added arrows on &lt;F\"big-subtracted\"&gt;\n                  [imshowframe] added title of \"subtracted\" to &lt;F\"big-subtracted\"&gt;\n                    [zoomframe] plotting &lt;F\"zoom-subtracted\"&gt; for the first time\n                    [zoomframe] {}\n          [genericillustration] {}\n                    [zoomframe] added image of shape (10, 20) to &lt;F\"zoom-subtracted\"&gt;\n          [genericillustration] about to animate 20 times at 1.0s cadence for &lt;I\"Generic\"&gt;\n          [genericillustration] 30 frames/second :\n          [genericillustration] the animation will be saved to an-example-of-a-more-complicated-\n                                zoom.mp4\n          [genericillustration]   1/20 at 2024-09-12 20:25:01.707\r          [genericillustration]   2/20 at 2024-09-12 20:25:01.766\r          [genericillustration]   3/20 at 2024-09-12 20:25:01.806\r          [genericillustration]   4/20 at 2024-09-12 20:25:01.857\r</pre> <pre>          [genericillustration]   5/20 at 2024-09-12 20:25:01.907\r          [genericillustration]   6/20 at 2024-09-12 20:25:01.953\r          [genericillustration]   7/20 at 2024-09-12 20:25:01.992\r          [genericillustration]   8/20 at 2024-09-12 20:25:02.021\r          [genericillustration]   9/20 at 2024-09-12 20:25:02.050\r          [genericillustration]   10/20 at 2024-09-12 20:25:02.079\r          [genericillustration]   11/20 at 2024-09-12 20:25:02.108\r</pre> <pre>          [genericillustration]   12/20 at 2024-09-12 20:25:02.139\r          [genericillustration]   13/20 at 2024-09-12 20:25:02.167\r          [genericillustration]   14/20 at 2024-09-12 20:25:02.201\r          [genericillustration]   15/20 at 2024-09-12 20:25:02.233\r          [genericillustration]   16/20 at 2024-09-12 20:25:02.266\r          [genericillustration]   17/20 at 2024-09-12 20:25:02.298\r          [genericillustration]   18/20 at 2024-09-12 20:25:02.331\r</pre> <pre>          [genericillustration]   19/20 at 2024-09-12 20:25:02.363\r          [genericillustration]   20/20 at 2024-09-12 20:25:02.397\r          [genericillustration] \n          [genericillustration] the animation is finished!\n</pre> <p>An example of a more complicated zoom movie.</p> In\u00a0[13]: Copied! <pre># make a dataset\nstar = make_image_sequence(create_test_stamp(N=25, xsize=10, ysize=10, single=True))\n\n# create an empty time-series frame into which we will plot a timeseries\nlightcurve = EmptyTimeseriesFrame(name='timeseries')\nsomeimage = imshowFrame(name='image', data=star, title='', plotingredients=['image', 'arrows', 'colorbar'])\n\n# create an illustration that positions these frames next to each other\ni = SideBySideIllustration(timeseries=[lightcurve], imshows=[someimage])\n\n# plotting the illustration creates the basic structure...\n#i.plot()\n\n# ...but we can still modify it through the individual frames\nf = i.frames['timeseries']\n\n# the time-series f.plot plot will subtract a the illustration's shared time offset\ntime = star.time.jd\nflux = star._gather_3d().sum(-1).sum(-1)\nf.plot(time, flux, marker='o', color='black')\n\n# the f.ax refers to the time-series axes, so this is how we set up to plot into it\nplt.sca(f.ax)\nplt.axhline(np.mean(flux), color='cornflowerblue', zorder=-1)\nplt.ylabel('Some Flux')\n\ni.plot()\n#i.animate('an-example-of-a-timeseries.mp4')\n</pre> # make a dataset star = make_image_sequence(create_test_stamp(N=25, xsize=10, ysize=10, single=True))  # create an empty time-series frame into which we will plot a timeseries lightcurve = EmptyTimeseriesFrame(name='timeseries') someimage = imshowFrame(name='image', data=star, title='', plotingredients=['image', 'arrows', 'colorbar'])  # create an illustration that positions these frames next to each other i = SideBySideIllustration(timeseries=[lightcurve], imshows=[someimage])  # plotting the illustration creates the basic structure... #i.plot()  # ...but we can still modify it through the individual frames f = i.frames['timeseries']  # the time-series f.plot plot will subtract a the illustration's shared time offset time = star.time.jd flux = star._gather_3d().sum(-1).sum(-1) f.plot(time, flux, marker='o', color='black')  # the f.ax refers to the time-series axes, so this is how we set up to plot into it plt.sca(f.ax) plt.axhline(np.mean(flux), color='cornflowerblue', zorder=-1) plt.ylabel('Some Flux')  i.plot() #i.animate('an-example-of-a-timeseries.mp4') <pre>         [emptytimeseriesframe] defining 2458119.5 as the time offset\n                  [imshowframe] plotting &lt;F\"image\"&gt; for the first time\n                  [imshowframe] {}\n       [sidebysideillustration] {}\n       [sidebysideillustration] included &lt;F\"image\"&gt; in the shared color scheme\n       [sidebysideillustration] found no color scheme data for &lt;F\"timeseries\"&gt;\n       [sidebysideillustration] defined color scheme with   cmap=Blues\n                                norm=&lt;matplotlib.colors.LogNorm object at 0x17eb64ce0&gt;\n                                ticks=[19.314367172532123, 144.9660254156713, 1088.0578347243859]\n                  [imshowframe] added image of shape (10, 10) to &lt;F\"image\"&gt;\n                  [imshowframe] making sure a shared colorbar is set up for &lt;F\"image\"&gt;\n                  [imshowframe] added a shared colorbar for &lt;I\"Timeseries\"&gt;\n       [sidebysideillustration] adding a new colorbar for 1 frame(s)\n                  [imshowframe] added arrows on &lt;F\"image\"&gt;\n</pre> <p>An example movie with a time-series linked to the movie.</p> <p>The interface for plotting timeseries is still a little buggy and may change soon. For now, hopefully you find this helpful!</p> <p>Some more examples are included, in one way or another, in the <code>tests/</code> directory of the <code>playground</code> repository. Check those out, or please feel free to contribute new examples here! As always, please do not hesitate to contact Zach Berta-Thompson or leave an issue on the github repository.</p>"},{"location":"basics/#basic-principles","title":"Basic Principles\u00b6","text":"<p>Let's imagine you want to do something slightly more complicated. Maybe you want to make a movie, and include an linked time series plot next to it. Maybe you want to include several movie frames at different cadences. Maybe you want to create your own snazzy custom format. To do so, there are three core concepts you need to understand.</p>"},{"location":"basics/#a-sequence-is-a-collection-of-data-with-times","title":"a <code>Sequence</code> is a collection of data, with times\u00b6","text":"<p>To make an animation, we need a data structure that has some kind of data that has a time axis associated with it. For example, here we make a <code>Sequence</code> out of a small postage stamp of imaging data.</p>"},{"location":"basics/#a-frame-is-a-plot-panel-which-can-display-a-sequence","title":"a <code>Frame</code> is a plot panel, which can display a <code>Sequence</code>\u00b6","text":"<p>A frame is a container in which a sequence can be displayed. Different frames can display different views, even of the same dataset. For example, here we create two different frames that include our little sequence <code>seq</code> as their data.</p>"},{"location":"basics/#an-illustration-is-a-collection-of-frames-with-its-own-layout","title":"an <code>Illustration</code> is a collection of <code>Frames</code>, with its own layout\u00b6","text":"<p>Once we have created our frames, we can include them in an illustration. The illustration handles not only the basic grid layout of the frames, but also synchronizing their frames when plotting an animation. When you call the illustration's <code>.plot</code> method, it will make all the constituent frames <code>plot</code> too. When you call the <code>.animate</code> method, it will make an animation by looping through a grid of times and updating each frame whenever it needs updating.</p>"},{"location":"basics/#some-example-frame-combinations","title":"some example <code>Frame</code> combinations\u00b6","text":"<p>We can treat frames as somewhat modular containers, and build up illustrations through combinations of them. Here are a couple of examples of making custom illustrations by following the general process of</p> <ol> <li>make some sequences</li> <li>put them in frames</li> <li>fill an illustration</li> </ol>"},{"location":"basics/#simple-zoomframe-recreating-illustratefits","title":"simple <code>ZoomFrame</code> (recreating <code>illustratefits</code>)\u00b6","text":"<p>Let's start by recreating the zoom feature shown with <code>illustratefits</code> in the quickstart.</p>"},{"location":"basics/#multiple-zoomframes-on-multiple-images","title":"multiple <code>ZoomFrames</code> on multiple images\u00b6","text":"<p>Now, let's build a bit on that by including both the original images and some median-subtracted ones. In addition to the extra frames, we're also including some more complicated options in generating the illustration layout.</p>"},{"location":"basics/#an-emptytimeseriesframe-linked-to-an-imshowframe","title":"an <code>EmptyTimeseriesFrame</code> linked to an <code>imshowFrame</code>\u00b6","text":"<p>It might be nice to see a light curve synced up to the data from which it is derived. The <code>EmptyTimeseriesFrame</code> provides us with an empty frame, into which we can plot some time-series data. Here's a first step toward that capability; it still needs a bit of work, but hopefully this is enough to get started. The basic idea is to create an available plot location (an <code>Axes</code> object, in <code>matplotlib</code>-speak), where you can fill later with whatever plot elements you like. The below example demonstrates how to populate the time-series frame in two ways, both using its built-in <code>.plot</code> function and simply by adding elements to <code>i.frames['timeseries'].ax</code>.</p>"},{"location":"installation/","title":"Installation","text":"In\u00a0[1]: Copied! <pre>import illumination\n\nillumination.version()\n</pre> import illumination  illumination.version() Out[1]: <pre>'0.1.0'</pre> <p>Happy <code>illumination</code>-ing!</p>"},{"location":"installation/#installation","title":"Installation\u00b6","text":"<p>For installing this code we assume you have a Python environment set up, into which you can install packages via <code>pip</code>. If so, please continue to one of the installation options below.</p> <p>If this isn't the case, we recommend installing the Anaconda Python distribution, and using <code>conda</code> to manage the <code>python</code> environment(s) you have installed on your computer. One tutorial (of many) about how to get started with Python and creating <code>conda</code> environments is available here.</p> <p>*In these instructions, you might notice we use <code>illumination</code> for installing this package or working with its GitHub repository but <code>illumination</code> whenever we actually import it into Python. *</p>"},{"location":"installation/#basic-installation","title":"Basic Installation\u00b6","text":"<p>If you want to install into your current environment, the basic installation should be pretty simple. From the Terminal or Anaconda Prompt, please run</p> <pre><code>pip install illumination\n</code></pre> <p>and it should install everything, along with all the necessary dependencies.</p> <p>If you previously installed this package and need to grab a newer version, run</p> <pre><code>pip install --upgrade illumination\n</code></pre> <p>to download any officially released updates.</p>"},{"location":"installation/#basic-installation-in-new-conda-environment","title":"Basic Installation in New <code>conda</code> Environment\u00b6","text":"<p>If you are at all worried about the installation messing up other existing packages on your computer or if you're having trouble getting a tricky dependency to install, please consider installing into a new <code>conda</code> environment. Environments are independent of each other, so what you install into one shouldn't affect others.</p> <p>From the Terminal or Anaconda Prompt, please run</p> <pre><code>conda create -n my-neato-illumination-environment python=3.12\n</code></pre> <p>to create a new, empty environment centered on a recent-ish version of <code>python</code>. You may want to choose a shorter name for your neato environment, as it's something you'll need to type every time you want to use this environment. Run</p> <pre><code>conda activate my-neato-illumination-environment\n</code></pre> <p>to enter than environment. You can check that you're in it by running</p> <pre><code>conda env list\n</code></pre> <p>and looking for a little star next to the environment name. Now, from within this environment, run</p> <pre><code>pip install --upgrade illumination\n</code></pre> <p>to install <code>illumination</code> and all its dependencies (or follow the Developer Installation instructions immediately below), into this specific environment.</p> <p>One thing to watch out for is that if you haven't installed whatever tools you use to work with <code>python</code> (such as <code>jupyter</code> or <code>spyder</code>) into this environment, you might not be able to open them or you might open them from your base environment without access to this package. To fix that, run</p> <pre><code>conda install jupyter spyder\n</code></pre> <p>from inside your environment. From now on, whenever you want to use this environment, activate it with</p> <pre><code>conda activate my-neato-illumination-environment\n</code></pre> <p>and then open your <code>python</code> interface from within that environment, as with any one of these</p> <pre><code>jupyter notebook \njupyter lab\nspyder \n</code></pre> <p>Good luck!</p>"},{"location":"installation/#developer-installation","title":"Developer Installation\u00b6","text":"<p>If you want to install this code while being able to edit and develop it, you can clone its GitHub repository onto your own computer. This allows you to edit it for your own sake and/or to draft changes that can be contributed to the public package (see Contributing \ud83c\udf08 Code with GitHub).</p> <p>To install directly as an editable package on your local computer, run</p> <pre><code>git clone https://github.com/zkbt/illumination.git\ncd illumination\npip install -e '.[develop]'\n</code></pre> <p>The <code>-e .</code> will point your environment's <code>illumination</code> package to your local folder, meaning that any changes you make in the repository will be reflected in what Python sees when it tries to <code>import illumination</code>. Including the <code>[develop]</code> after the <code>.</code> will install both the dependencies for the package itself and the extra dependencies required for development (= testing and documentation).</p>"},{"location":"installation/#did-it-work","title":"Did it work?\u00b6","text":"<p>You can quickly test whether your installation worked, and what version you have, by running the Python code</p>"},{"location":"quickstart/","title":"Quickstart","text":"<p>Let's imagine you're impatient, and all you want to do is make a pretty movie or two. Here's a good place to start. Odds are, you have a collection of <code>.fits</code> files somewhere, and you'd like to display them as a movie. To simulate your situation, let's make a directory full of files.</p> In\u00a0[1]: Copied! <pre>from illumination.cartoons import create_directory_of_fits\ncreate_directory_of_fits('some-directory')\n</pre> from illumination.cartoons import create_directory_of_fits create_directory_of_fits('some-directory') <p>If we look in the <code>some-directory</code> directory, we see it contains four directories, each of which contain some images.</p> In\u00a0[2]: Copied! <pre>!ls some-directory/*\n</pre> !ls some-directory/* <pre>some-directory/cam1:\r\ncam1-0000.fits cam1-0002.fits cam1-0004.fits cam1-0006.fits cam1-0008.fits\r\ncam1-0001.fits cam1-0003.fits cam1-0005.fits cam1-0007.fits cam1-0009.fits\r\n\r\nsome-directory/cam2:\r\ncam2-0000.fits cam2-0002.fits cam2-0004.fits cam2-0006.fits cam2-0008.fits\r\ncam2-0001.fits cam2-0003.fits cam2-0005.fits cam2-0007.fits cam2-0009.fits\r\n\r\nsome-directory/cam3:\r\ncam3-0000.fits cam3-0002.fits cam3-0004.fits cam3-0006.fits cam3-0008.fits\r\ncam3-0001.fits cam3-0003.fits cam3-0005.fits cam3-0007.fits cam3-0009.fits\r\n\r\nsome-directory/cam4:\r\ncam4-0000.fits cam4-0002.fits cam4-0004.fits cam4-0006.fits cam4-0008.fits\r\ncam4-0001.fits cam4-0003.fits cam4-0005.fits cam4-0007.fits cam4-0009.fits\r\n</pre> In\u00a0[3]: Copied! <pre>from illumination import illustratefits, glob\n</pre> from illumination import illustratefits, glob In\u00a0[4]: Copied! <pre>i = illustratefits('some-directory/cam1/*.fits')\ni.animate('a-snazzy-little-movie.mp4')\n</pre> i = illustratefits('some-directory/cam1/*.fits') i.animate('a-snazzy-little-movie.mp4') <pre>                [fits-sequence] populating &lt;fits-sequence of 10 images of shape (100, 100)&gt;\n                                information from the filenames (like some-\n                                directory/cam1/cam1-0000.fits)\n                [fits-sequence] the temporal keys for &lt;fits-sequence of 10 images of shape (100,\n                                100)&gt; are ['filename']\n                [fits-sequence] the static keys for &lt;fits-sequence of 10 images of shape (100, 100)&gt;\n                                are ['camera']\nyo!\n                  [cameraframe] plotting &lt;F\"camera\"&gt; for the first time\n                  [cameraframe] {}\n           [cameraillustration] {}\n           [cameraillustration] included &lt;F\"camera\"&gt; in the shared color scheme\n           [cameraillustration] defined color scheme with   cmap=Blues\n                                norm=&lt;matplotlib.colors.LogNorm object at 0x17c726240&gt;\n                                ticks=[31.776880269455766, 68.13340831450066, 146.08612579921999]\n                  [cameraframe] added image of shape (100, 100) to &lt;F\"camera\"&gt;\n                  [cameraframe] making sure a shared colorbar is set up for &lt;F\"camera\"&gt;\n                  [cameraframe] added a shared colorbar for &lt;I\"CameraIllustration\"&gt;\n           [cameraillustration] adding a new colorbar for 1 frame(s)\n                  [cameraframe] added time label of \"#0\" on &lt;F\"camera\"&gt;\n                  [cameraframe] added arrows on &lt;F\"camera\"&gt;\n                  [cameraframe] added title of \"\" to &lt;F\"camera\"&gt;\n           [cameraillustration] about to animate 11 times at 1.0s cadence for\n                                &lt;I\"CameraIllustration\"&gt;\n           [cameraillustration] 30 frames/second :\n           [cameraillustration] the animation will be saved to a-snazzy-little-movie.mp4\n           [cameraillustration]   1/11 at 2024-09-12 20:25:12.361\r</pre> <pre>           [cameraillustration]   2/11 at 2024-09-12 20:25:12.479\r           [cameraillustration]   3/11 at 2024-09-12 20:25:12.494\r</pre> <pre>           [cameraillustration]   4/11 at 2024-09-12 20:25:12.509\r           [cameraillustration]   5/11 at 2024-09-12 20:25:12.523\r           [cameraillustration]   6/11 at 2024-09-12 20:25:12.537\r           [cameraillustration]   7/11 at 2024-09-12 20:25:12.551\r           [cameraillustration]   8/11 at 2024-09-12 20:25:12.564\r           [cameraillustration]   9/11 at 2024-09-12 20:25:12.631\r           [cameraillustration]   10/11 at 2024-09-12 20:25:12.664\r           [cameraillustration]   11/11 at 2024-09-12 20:25:12.679\r</pre> <pre>           [cameraillustration] \n           [cameraillustration] the animation is finished!\n</pre> <p></p> <p>Neat! That makes us a little animation!</p> <p>The <code>illustratefits</code> function will make an animation out of all the files that matches the file pattern (with <code>glob</code>).  It will try to find times inside the headers of those images, but if it doesn't, it will simply order images by filename.</p> <p>If you want, you can explicitly create a list of files to include. For example, you could feed in the same files, but in reverse, as follows.</p> In\u00a0[5]: Copied! <pre>files = glob.glob('some-directory/cam1/*.fits')[::-1]\ni = illustratefits(files, title=\"now it's backwards!\")\ni.animate('backwards-snazzy-little-movie.mp4', fps=3, dpi=200)\n</pre> files = glob.glob('some-directory/cam1/*.fits')[::-1] i = illustratefits(files, title=\"now it's backwards!\") i.animate('backwards-snazzy-little-movie.mp4', fps=3, dpi=200) <pre>                [fits-sequence] populating &lt;fits-sequence of 10 images of shape (100, 100)&gt;\n                                information from the filenames (like some-\n                                directory/cam1/cam1-0005.fits)\n                [fits-sequence] the temporal keys for &lt;fits-sequence of 10 images of shape (100,\n                                100)&gt; are ['filename']\n                [fits-sequence] the static keys for &lt;fits-sequence of 10 images of shape (100, 100)&gt;\n                                are ['camera']\nyo!\n                  [cameraframe] plotting &lt;F\"camera\"&gt; for the first time\n                  [cameraframe] {}\n           [cameraillustration] {}\n           [cameraillustration] included &lt;F\"camera\"&gt; in the shared color scheme\n           [cameraillustration] defined color scheme with   cmap=Blues\n                                norm=&lt;matplotlib.colors.LogNorm object at 0x1760a6c30&gt;\n                                ticks=[32.42333121745465, 68.67160393483876, 145.4443146312086]\n                  [cameraframe] added image of shape (100, 100) to &lt;F\"camera\"&gt;\n                  [cameraframe] making sure a shared colorbar is set up for &lt;F\"camera\"&gt;\n                  [cameraframe] added a shared colorbar for &lt;I\"CameraIllustration\"&gt;\n           [cameraillustration] adding a new colorbar for 1 frame(s)\n                  [cameraframe] added time label of \"#0\" on &lt;F\"camera\"&gt;\n</pre> <pre>                  [cameraframe] added arrows on &lt;F\"camera\"&gt;\n                  [cameraframe] added title of \"now it's backwards!\" to &lt;F\"camera\"&gt;\n           [cameraillustration] about to animate 11 times at 1.0s cadence for\n                                &lt;I\"CameraIllustration\"&gt;\n           [cameraillustration] 3 frames/second :\n           [cameraillustration] the animation will be saved to backwards-snazzy-little-movie.mp4\n           [cameraillustration]   1/11 at 2024-09-12 20:25:12.916\r           [cameraillustration]   2/11 at 2024-09-12 20:25:13.059\r</pre> <pre>           [cameraillustration]   3/11 at 2024-09-12 20:25:13.192\r           [cameraillustration]   4/11 at 2024-09-12 20:25:13.223\r           [cameraillustration]   5/11 at 2024-09-12 20:25:13.254\r           [cameraillustration]   6/11 at 2024-09-12 20:25:13.281\r           [cameraillustration]   7/11 at 2024-09-12 20:25:13.307\r           [cameraillustration]   8/11 at 2024-09-12 20:25:13.334\r           [cameraillustration]   9/11 at 2024-09-12 20:25:13.360\r           [cameraillustration]   10/11 at 2024-09-12 20:25:13.386\r</pre> <pre>           [cameraillustration]   11/11 at 2024-09-12 20:25:13.413\r           [cameraillustration] \n           [cameraillustration] the animation is finished!\n</pre> <p>Note that we've also changed a few other things in here too. We added a <code>title</code> to the illustration, and we changed the frame per second (<code>fps</code>) and the dots per inch (<code>dpi</code>) to use when writing the animation.</p> In\u00a0[6]: Copied! <pre>i = illustratefits('some-directory/cam*/*.fits')\ni.animate('a-snazzy-fourcamera-movie.mp4', dpi=50)\n</pre> i = illustratefits('some-directory/cam*/*.fits') i.animate('a-snazzy-fourcamera-movie.mp4', dpi=50) <pre>                [fits-sequence] populating &lt;fits-sequence of 10 images of shape (100, 100)&gt;\n                                information from the filenames (like some-\n                                directory/cam1/cam1-0000.fits)\n                [fits-sequence] the temporal keys for &lt;fits-sequence of 10 images of shape (100,\n                                100)&gt; are ['filename']\n                [fits-sequence] the static keys for &lt;fits-sequence of 10 images of shape (100, 100)&gt;\n                                are ['camera']\n                [fits-sequence] populating &lt;fits-sequence of 10 images of shape (100, 100)&gt;\n                                information from the filenames (like some-\n                                directory/cam2/cam2-0000.fits)\n                [fits-sequence] the temporal keys for &lt;fits-sequence of 10 images of shape (100,\n                                100)&gt; are ['filename']\n                [fits-sequence] the static keys for &lt;fits-sequence of 10 images of shape (100, 100)&gt;\n                                are ['camera']\n                [fits-sequence] populating &lt;fits-sequence of 10 images of shape (100, 100)&gt;\n                                information from the filenames (like some-\n                                directory/cam3/cam3-0000.fits)\n                [fits-sequence] the temporal keys for &lt;fits-sequence of 10 images of shape (100,\n                                100)&gt; are ['filename']\n                [fits-sequence] the static keys for &lt;fits-sequence of 10 images of shape (100, 100)&gt;\n                                are ['camera']\n                [fits-sequence] populating &lt;fits-sequence of 10 images of shape (100, 100)&gt;\n                                information from the filenames (like some-\n                                directory/cam4/cam4-0000.fits)\n                [fits-sequence] the temporal keys for &lt;fits-sequence of 10 images of shape (100,\n                                100)&gt; are ['filename']\n                [fits-sequence] the static keys for &lt;fits-sequence of 10 images of shape (100, 100)&gt;\n                                are ['camera']\nyo!\n</pre> <pre>                 [camera1frame] plotting &lt;F\"cam1\"&gt; for the first time\n                 [camera1frame] {}\n       [fourcameraillustration] {}\n       [fourcameraillustration] included &lt;F\"cam1\"&gt; in the shared color scheme\n       [fourcameraillustration] included &lt;F\"cam2\"&gt; in the shared color scheme\n       [fourcameraillustration] included &lt;F\"cam3\"&gt; in the shared color scheme\n       [fourcameraillustration] included &lt;F\"cam4\"&gt; in the shared color scheme\n       [fourcameraillustration] defined color scheme with   cmap=Blues\n                                norm=&lt;matplotlib.colors.LogNorm object at 0x1765ae750&gt;\n                                ticks=[31.10065728726663, 67.5765758602871, 146.83270397860085]\n                 [camera1frame] added image of shape (100, 100) to &lt;F\"cam1\"&gt;\n                 [camera1frame] making sure a shared colorbar is set up for &lt;F\"cam1\"&gt;\n                 [camera1frame] added a shared colorbar for &lt;I\"FourCamera\"&gt;\n       [fourcameraillustration] adding a new colorbar for 4 frame(s)\n                 [camera1frame] added time label of \"#0\" on &lt;F\"cam1\"&gt;\n                 [camera1frame] added arrows on &lt;F\"cam1\"&gt;\n                 [camera1frame] added title of \"\" to &lt;F\"cam1\"&gt;\n                 [camera2frame] plotting &lt;F\"cam2\"&gt; for the first time\n                 [camera2frame] {}\n       [fourcameraillustration] {}\n                 [camera2frame] added image of shape (100, 100) to &lt;F\"cam2\"&gt;\n                 [camera2frame] making sure a shared colorbar is set up for &lt;F\"cam2\"&gt;\n                 [camera2frame] added time label of \"#0\" on &lt;F\"cam2\"&gt;\n                 [camera2frame] added arrows on &lt;F\"cam2\"&gt;\n                 [camera2frame] added title of \"\" to &lt;F\"cam2\"&gt;\n                 [camera3frame] plotting &lt;F\"cam3\"&gt; for the first time\n                 [camera3frame] {}\n       [fourcameraillustration] {}\n                 [camera3frame] added image of shape (100, 100) to &lt;F\"cam3\"&gt;\n                 [camera3frame] making sure a shared colorbar is set up for &lt;F\"cam3\"&gt;\n                 [camera3frame] added time label of \"#0\" on &lt;F\"cam3\"&gt;\n                 [camera3frame] added arrows on &lt;F\"cam3\"&gt;\n                 [camera3frame] added title of \"\" to &lt;F\"cam3\"&gt;\n                 [camera4frame] plotting &lt;F\"cam4\"&gt; for the first time\n                 [camera4frame] {}\n       [fourcameraillustration] {}\n                 [camera4frame] added image of shape (100, 100) to &lt;F\"cam4\"&gt;\n                 [camera4frame] making sure a shared colorbar is set up for &lt;F\"cam4\"&gt;\n                 [camera4frame] added time label of \"#0\" on &lt;F\"cam4\"&gt;\n                 [camera4frame] added arrows on &lt;F\"cam4\"&gt;\n                 [camera4frame] added title of \"\" to &lt;F\"cam4\"&gt;\n       [fourcameraillustration] about to animate 11 times at 1.0s cadence for &lt;I\"FourCamera\"&gt;\n       [fourcameraillustration] 30 frames/second :\n       [fourcameraillustration] the animation will be saved to a-snazzy-fourcamera-movie.mp4\n       [fourcameraillustration]   1/11 at 2024-09-12 20:25:13.719\r</pre> <pre>       [fourcameraillustration]   2/11 at 2024-09-12 20:25:13.753\r       [fourcameraillustration]   3/11 at 2024-09-12 20:25:13.783\r       [fourcameraillustration]   4/11 at 2024-09-12 20:25:13.812\r       [fourcameraillustration]   5/11 at 2024-09-12 20:25:13.841\r</pre> <pre>       [fourcameraillustration]   6/11 at 2024-09-12 20:25:13.874\r       [fourcameraillustration]   7/11 at 2024-09-12 20:25:13.906\r       [fourcameraillustration]   8/11 at 2024-09-12 20:25:13.935\r</pre> <pre>       [fourcameraillustration]   9/11 at 2024-09-12 20:25:13.964\r       [fourcameraillustration]   10/11 at 2024-09-12 20:25:13.994\r       [fourcameraillustration]   11/11 at 2024-09-12 20:25:14.023\r       [fourcameraillustration] \n       [fourcameraillustration] the animation is finished!\n</pre> In\u00a0[7]: Copied! <pre>i = illustratefits('some-directory/cam1/*.fits', zoomposition=(30, 50), zoomsize=(42, 14))\ni.animate('zoom-movies-are-snazzy-too.mp4', dpi=50)\n</pre> i = illustratefits('some-directory/cam1/*.fits', zoomposition=(30, 50), zoomsize=(42, 14)) i.animate('zoom-movies-are-snazzy-too.mp4', dpi=50) <pre>                [fits-sequence] populating &lt;fits-sequence of 10 images of shape (100, 100)&gt;\n                                information from the filenames (like some-\n                                directory/cam1/cam1-0000.fits)\n                [fits-sequence] the temporal keys for &lt;fits-sequence of 10 images of shape (100,\n                                100)&gt; are ['filename']\n                [fits-sequence] the static keys for &lt;fits-sequence of 10 images of shape (100, 100)&gt;\n                                are ['camera']\nyo!\n                  [cameraframe] plotting &lt;F\"camera\"&gt; for the first time\n                  [cameraframe] {}\n[singlecamerawithzoomillustration] {}\n[singlecamerawithzoomillustration] included &lt;F\"camera\"&gt; in the shared color scheme\n[singlecamerawithzoomillustration] included &lt;F\"zoom\"&gt; in the shared color scheme\n[singlecamerawithzoomillustration] defined color scheme with   cmap=Blues\n                                   norm=&lt;matplotlib.colors.LogNorm object at 0x17667eab0&gt;\n                                   ticks=[32.164893811189636, 68.50863710086254, 145.91788752571327]\n                  [cameraframe] added image of shape (100, 100) to &lt;F\"camera\"&gt;\n                  [cameraframe] making sure a shared colorbar is set up for &lt;F\"camera\"&gt;\n                  [cameraframe] added a shared colorbar for &lt;I\"SingleCameraWithZoomIllustration\"&gt;\n[singlecamerawithzoomillustration] adding a new colorbar for 2 frame(s)\n                  [cameraframe] added time label of \"#0\" on &lt;F\"camera\"&gt;\n                  [cameraframe] added arrows on &lt;F\"camera\"&gt;\n                  [cameraframe] added title of \"\" to &lt;F\"camera\"&gt;\n                    [zoomframe] plotting &lt;F\"zoom\"&gt; for the first time\n                    [zoomframe] {}\n[singlecamerawithzoomillustration] {}\n                    [zoomframe] added image of shape (14, 42) to &lt;F\"zoom\"&gt;\n[singlecamerawithzoomillustration] about to animate 11 times at 1.0s cadence for\n                                   &lt;I\"SingleCameraWithZoomIllustration\"&gt;\n[singlecamerawithzoomillustration] 30 frames/second :\n[singlecamerawithzoomillustration] the animation will be saved to zoom-movies-are-snazzy-too.mp4\n[singlecamerawithzoomillustration]   1/11 at 2024-09-12 20:25:14.600\r</pre> <pre>[singlecamerawithzoomillustration]   2/11 at 2024-09-12 20:25:14.658\r[singlecamerawithzoomillustration]   3/11 at 2024-09-12 20:25:14.694\r[singlecamerawithzoomillustration]   4/11 at 2024-09-12 20:25:14.731\r[singlecamerawithzoomillustration]   5/11 at 2024-09-12 20:25:14.766\r[singlecamerawithzoomillustration]   6/11 at 2024-09-12 20:25:14.803\r[singlecamerawithzoomillustration]   7/11 at 2024-09-12 20:25:14.843\r</pre> <pre>[singlecamerawithzoomillustration]   8/11 at 2024-09-12 20:25:14.876\r[singlecamerawithzoomillustration]   9/11 at 2024-09-12 20:25:14.908\r[singlecamerawithzoomillustration]   10/11 at 2024-09-12 20:25:14.936\r[singlecamerawithzoomillustration]   11/11 at 2024-09-12 20:25:14.960\r[singlecamerawithzoomillustration] \n[singlecamerawithzoomillustration] the animation is finished!\n</pre> <p></p> In\u00a0[8]: Copied! <pre>i = illustratefits('some-directory/cam*/*.fits', processingsteps=['subtractmedian'])\ni.animate('median-subtraction-reveals-sazzy-structures.mp4', dpi=50)\n</pre> i = illustratefits('some-directory/cam*/*.fits', processingsteps=['subtractmedian']) i.animate('median-subtraction-reveals-sazzy-structures.mp4', dpi=50) <pre>                [fits-sequence] populating &lt;fits-sequence of 10 images of shape (100, 100)&gt;\n                                information from the filenames (like some-\n                                directory/cam1/cam1-0000.fits)\n                [fits-sequence] the temporal keys for &lt;fits-sequence of 10 images of shape (100,\n                                100)&gt; are ['filename']\n                [fits-sequence] the static keys for &lt;fits-sequence of 10 images of shape (100, 100)&gt;\n                                are ['camera']\n                [fits-sequence] populating &lt;fits-sequence of 10 images of shape (100, 100)&gt;\n                                information from the filenames (like some-\n                                directory/cam2/cam2-0000.fits)\n                [fits-sequence] the temporal keys for &lt;fits-sequence of 10 images of shape (100,\n                                100)&gt; are ['filename']\n                [fits-sequence] the static keys for &lt;fits-sequence of 10 images of shape (100, 100)&gt;\n                                are ['camera']\n                [fits-sequence] populating &lt;fits-sequence of 10 images of shape (100, 100)&gt;\n                                information from the filenames (like some-\n                                directory/cam3/cam3-0000.fits)\n                [fits-sequence] the temporal keys for &lt;fits-sequence of 10 images of shape (100,\n                                100)&gt; are ['filename']\n                [fits-sequence] the static keys for &lt;fits-sequence of 10 images of shape (100, 100)&gt;\n                                are ['camera']\n                [fits-sequence] populating &lt;fits-sequence of 10 images of shape (100, 100)&gt;\n                                information from the filenames (like some-\n                                directory/cam4/cam4-0000.fits)\n                [fits-sequence] the temporal keys for &lt;fits-sequence of 10 images of shape (100,\n                                100)&gt; are ['filename']\n                [fits-sequence] the static keys for &lt;fits-sequence of 10 images of shape (100, 100)&gt;\n                                are ['camera']\nyo!\n                 [camera1frame] plotting &lt;F\"cam1\"&gt; for the first time\n                [fits-sequence] creating a median image for &lt;fits-sequence of 10 images of shape\n                                (100, 100)&gt;\n                [fits-sequence] gathering the sequence cube, with shape (10, 100, 100)\n                [fits-sequence]  loaded frame 1/10\r                [fits-sequence]  loaded frame 2/10\r                [fits-sequence]  loaded frame 3/10\r                [fits-sequence]  loaded frame 4/10\r                [fits-sequence]  loaded frame 5/10\r                [fits-sequence]  loaded frame 6/10\r                [fits-sequence]  loaded frame 7/10\r                [fits-sequence]  loaded frame 8/10\r                [fits-sequence]  loaded frame 9/10\r                [fits-sequence]  loaded frame 10/10\r                 [camera1frame] {}\n       [fourcameraillustration] {}\n       [fourcameraillustration] included &lt;F\"cam1\"&gt; in the shared color scheme\n                [fits-sequence] creating a median image for &lt;fits-sequence of 10 images of shape\n                                (100, 100)&gt;\n</pre> <pre>                [fits-sequence] gathering the sequence cube, with shape (10, 100, 100)\n                [fits-sequence]  loaded frame 1/10\r                [fits-sequence]  loaded frame 2/10\r                [fits-sequence]  loaded frame 3/10\r                [fits-sequence]  loaded frame 4/10\r                [fits-sequence]  loaded frame 5/10\r                [fits-sequence]  loaded frame 6/10\r                [fits-sequence]  loaded frame 7/10\r                [fits-sequence]  loaded frame 8/10\r                [fits-sequence]  loaded frame 9/10\r                [fits-sequence]  loaded frame 10/10\r       [fourcameraillustration] included &lt;F\"cam2\"&gt; in the shared color scheme\n                [fits-sequence] creating a median image for &lt;fits-sequence of 10 images of shape\n                                (100, 100)&gt;\n                [fits-sequence] gathering the sequence cube, with shape (10, 100, 100)\n                [fits-sequence]  loaded frame 1/10\r                [fits-sequence]  loaded frame 2/10\r                [fits-sequence]  loaded frame 3/10\r                [fits-sequence]  loaded frame 4/10\r                [fits-sequence]  loaded frame 5/10\r                [fits-sequence]  loaded frame 6/10\r                [fits-sequence]  loaded frame 7/10\r                [fits-sequence]  loaded frame 8/10\r                [fits-sequence]  loaded frame 9/10\r                [fits-sequence]  loaded frame 10/10\r       [fourcameraillustration] included &lt;F\"cam3\"&gt; in the shared color scheme\n                [fits-sequence] creating a median image for &lt;fits-sequence of 10 images of shape\n                                (100, 100)&gt;\n                [fits-sequence] gathering the sequence cube, with shape (10, 100, 100)\n                [fits-sequence]  loaded frame 1/10\r                [fits-sequence]  loaded frame 2/10\r                [fits-sequence]  loaded frame 3/10\r                [fits-sequence]  loaded frame 4/10\r                [fits-sequence]  loaded frame 5/10\r                [fits-sequence]  loaded frame 6/10\r                [fits-sequence]  loaded frame 7/10\r                [fits-sequence]  loaded frame 8/10\r                [fits-sequence]  loaded frame 9/10\r                [fits-sequence]  loaded frame 10/10\r       [fourcameraillustration] included &lt;F\"cam4\"&gt; in the shared color scheme\n       [fourcameraillustration] defined color scheme with   cmap=RdBu\n                                norm=&lt;matplotlib.colors.SymLogNorm object at 0x17c99a600&gt;\n                                ticks=[-21.043398283414938, -8.806109481418451, 0,\n                                8.806109481418451, 21.043398283414938]\n                 [camera1frame] added image of shape (100, 100) to &lt;F\"cam1\"&gt;\n                 [camera1frame] making sure a shared colorbar is set up for &lt;F\"cam1\"&gt;\n                 [camera1frame] added a shared colorbar for &lt;I\"FourCamera\"&gt;\n       [fourcameraillustration] adding a new colorbar for 4 frame(s)\n                 [camera1frame] added time label of \"#0\" on &lt;F\"cam1\"&gt;\n                 [camera1frame] added arrows on &lt;F\"cam1\"&gt;\n                 [camera1frame] added title of \"\" to &lt;F\"cam1\"&gt;\n                 [camera2frame] plotting &lt;F\"cam2\"&gt; for the first time\n                 [camera2frame] {}\n       [fourcameraillustration] {}\n                 [camera2frame] added image of shape (100, 100) to &lt;F\"cam2\"&gt;\n                 [camera2frame] making sure a shared colorbar is set up for &lt;F\"cam2\"&gt;\n                 [camera2frame] added time label of \"#0\" on &lt;F\"cam2\"&gt;\n                 [camera2frame] added arrows on &lt;F\"cam2\"&gt;\n                 [camera2frame] added title of \"\" to &lt;F\"cam2\"&gt;\n                 [camera3frame] plotting &lt;F\"cam3\"&gt; for the first time\n                 [camera3frame] {}\n       [fourcameraillustration] {}\n                 [camera3frame] added image of shape (100, 100) to &lt;F\"cam3\"&gt;\n                 [camera3frame] making sure a shared colorbar is set up for &lt;F\"cam3\"&gt;\n                 [camera3frame] added time label of \"#0\" on &lt;F\"cam3\"&gt;\n                 [camera3frame] added arrows on &lt;F\"cam3\"&gt;\n                 [camera3frame] added title of \"\" to &lt;F\"cam3\"&gt;\n                 [camera4frame] plotting &lt;F\"cam4\"&gt; for the first time\n                 [camera4frame] {}\n       [fourcameraillustration] {}\n                 [camera4frame] added image of shape (100, 100) to &lt;F\"cam4\"&gt;\n                 [camera4frame] making sure a shared colorbar is set up for &lt;F\"cam4\"&gt;\n                 [camera4frame] added time label of \"#0\" on &lt;F\"cam4\"&gt;\n                 [camera4frame] added arrows on &lt;F\"cam4\"&gt;\n                 [camera4frame] added title of \"\" to &lt;F\"cam4\"&gt;\n       [fourcameraillustration] about to animate 11 times at 1.0s cadence for &lt;I\"FourCamera\"&gt;\n       [fourcameraillustration] 30 frames/second :\n       [fourcameraillustration] the animation will be saved to median-subtraction-reveals-sazzy-\n                                structures.mp4\n       [fourcameraillustration]   1/11 at 2024-09-12 20:25:15.728\r       [fourcameraillustration]   2/11 at 2024-09-12 20:25:15.773\r</pre> <pre>       [fourcameraillustration]   3/11 at 2024-09-12 20:25:15.813\r       [fourcameraillustration]   4/11 at 2024-09-12 20:25:15.850\r       [fourcameraillustration]   5/11 at 2024-09-12 20:25:15.888\r       [fourcameraillustration]   6/11 at 2024-09-12 20:25:15.938\r</pre> <pre>       [fourcameraillustration]   7/11 at 2024-09-12 20:25:16.073\r       [fourcameraillustration]   8/11 at 2024-09-12 20:25:16.112\r       [fourcameraillustration]   9/11 at 2024-09-12 20:25:16.148\r       [fourcameraillustration]   10/11 at 2024-09-12 20:25:16.184\r       [fourcameraillustration]   11/11 at 2024-09-12 20:25:16.220\r       [fourcameraillustration] \n       [fourcameraillustration] the animation is finished!\n</pre> <p></p> In\u00a0[9]: Copied! <pre>i = illustratefits('some-directory/cam*/*0001.fits')\ni.plot()\ni.savefig('a-snazzy-static-plot.png')\n</pre> i = illustratefits('some-directory/cam*/*0001.fits') i.plot() i.savefig('a-snazzy-static-plot.png') <pre>                [fits-sequence] populating &lt;fits-sequence of 1 images of shape (100, 100)&gt;\n                                information from the filenames (like some-\n                                directory/cam1/cam1-0001.fits)\n                [fits-sequence] the temporal keys for &lt;fits-sequence of 1 images of shape (100,\n                                100)&gt; are ['filename', 'camera']\n                [fits-sequence] the static keys for &lt;fits-sequence of 1 images of shape (100, 100)&gt;\n                                are ['filename', 'camera']\n                [fits-sequence] populating &lt;fits-sequence of 1 images of shape (100, 100)&gt;\n                                information from the filenames (like some-\n                                directory/cam2/cam2-0001.fits)\n                [fits-sequence] the temporal keys for &lt;fits-sequence of 1 images of shape (100,\n                                100)&gt; are ['filename', 'camera']\n                [fits-sequence] the static keys for &lt;fits-sequence of 1 images of shape (100, 100)&gt;\n                                are ['filename', 'camera']\n                [fits-sequence] populating &lt;fits-sequence of 1 images of shape (100, 100)&gt;\n                                information from the filenames (like some-\n                                directory/cam3/cam3-0001.fits)\n                [fits-sequence] the temporal keys for &lt;fits-sequence of 1 images of shape (100,\n                                100)&gt; are ['filename', 'camera']\n                [fits-sequence] the static keys for &lt;fits-sequence of 1 images of shape (100, 100)&gt;\n                                are ['filename', 'camera']\n                [fits-sequence] populating &lt;fits-sequence of 1 images of shape (100, 100)&gt;\n                                information from the filenames (like some-\n                                directory/cam4/cam4-0001.fits)\n                [fits-sequence] the temporal keys for &lt;fits-sequence of 1 images of shape (100,\n                                100)&gt; are ['filename', 'camera']\n                [fits-sequence] the static keys for &lt;fits-sequence of 1 images of shape (100, 100)&gt;\n                                are ['filename', 'camera']\nyo!\n                 [camera1frame] plotting &lt;F\"cam1\"&gt; for the first time\n                 [camera1frame] {}\n       [fourcameraillustration] {}\n       [fourcameraillustration] included &lt;F\"cam1\"&gt; in the shared color scheme\n       [fourcameraillustration] included &lt;F\"cam2\"&gt; in the shared color scheme\n       [fourcameraillustration] included &lt;F\"cam3\"&gt; in the shared color scheme\n       [fourcameraillustration] included &lt;F\"cam4\"&gt; in the shared color scheme\n       [fourcameraillustration] defined color scheme with   cmap=Blues\n                                norm=&lt;matplotlib.colors.LogNorm object at 0x17611d4c0&gt;\n                                ticks=[31.788646240357124, 68.21347848994762, 146.37548930256906]\n                 [camera1frame] added image of shape (100, 100) to &lt;F\"cam1\"&gt;\n                 [camera1frame] making sure a shared colorbar is set up for &lt;F\"cam1\"&gt;\n                 [camera1frame] added a shared colorbar for &lt;I\"FourCamera\"&gt;\n       [fourcameraillustration] adding a new colorbar for 4 frame(s)\n                 [camera1frame] added time label of \"#0\" on &lt;F\"cam1\"&gt;\n                 [camera1frame] added arrows on &lt;F\"cam1\"&gt;\n                 [camera1frame] added title of \"\" to &lt;F\"cam1\"&gt;\n                 [camera2frame] plotting &lt;F\"cam2\"&gt; for the first time\n                 [camera2frame] {}\n       [fourcameraillustration] {}\n                 [camera2frame] added image of shape (100, 100) to &lt;F\"cam2\"&gt;\n                 [camera2frame] making sure a shared colorbar is set up for &lt;F\"cam2\"&gt;\n                 [camera2frame] added time label of \"#0\" on &lt;F\"cam2\"&gt;\n                 [camera2frame] added arrows on &lt;F\"cam2\"&gt;\n                 [camera2frame] added title of \"\" to &lt;F\"cam2\"&gt;\n                 [camera3frame] plotting &lt;F\"cam3\"&gt; for the first time\n                 [camera3frame] {}\n       [fourcameraillustration] {}\n                 [camera3frame] added image of shape (100, 100) to &lt;F\"cam3\"&gt;\n                 [camera3frame] making sure a shared colorbar is set up for &lt;F\"cam3\"&gt;\n                 [camera3frame] added time label of \"#0\" on &lt;F\"cam3\"&gt;\n                 [camera3frame] added arrows on &lt;F\"cam3\"&gt;\n                 [camera3frame] added title of \"\" to &lt;F\"cam3\"&gt;\n                 [camera4frame] plotting &lt;F\"cam4\"&gt; for the first time\n                 [camera4frame] {}\n       [fourcameraillustration] {}\n                 [camera4frame] added image of shape (100, 100) to &lt;F\"cam4\"&gt;\n                 [camera4frame] making sure a shared colorbar is set up for &lt;F\"cam4\"&gt;\n                 [camera4frame] added time label of \"#0\" on &lt;F\"cam4\"&gt;\n                 [camera4frame] added arrows on &lt;F\"cam4\"&gt;\n                 [camera4frame] added title of \"\" to &lt;F\"cam4\"&gt;\n       [fourcameraillustration] saving figure to a-snazzy-static-plot.png\n</pre> <pre>       [fourcameraillustration] saved figure to a-snazzy-static-plot.png\n</pre> <p>That's about it for the basic one-liner commands. If you want to do something more complicated, it will probably help to read on a bit more about the principle of how TESS Viewer illustrations are structured.</p>"},{"location":"quickstart/#quickstart","title":"Quickstart\u00b6","text":""},{"location":"quickstart/#basic-animations","title":"Basic Animations\u00b6","text":"<p>Now, starting with these FITS, we can use the following commands to visualize those images.</p>"},{"location":"quickstart/#animating-multiple-cameras-at-once","title":"Animating Multiple Cameras at Once\u00b6","text":"<p>But what if you want to display more than one camera at the same time? The <code>illustratefits</code> will try to split out different cameras by looking for a string like <code>cam1</code> or <code>cam2</code> (etc...) in the FITS filenames. If it doesn't find these, it will revert back to assuming everything is in a single camera.</p>"},{"location":"quickstart/#magnifying-part-of-the-frame","title":"Magnifying Part of the Frame\u00b6","text":"<p>What if I want to zoom in on a particular region of an image? I can specify the zoom I would like via the <code>zoomposition</code> and <code>zoomsize</code> keywords, indicating the (x,y)=(col,row) position of the center of the zoom box, and the</p>"},{"location":"quickstart/#basic-image-processing","title":"Basic Image Processing\u00b6","text":"<p>Sometimes, you might want to apply some processing to the images before displaying them. Several simple processes are defined via the <code>processingsteps</code> keyword, which must contain a list (something inside <code>[]</code>) of steps to be applied. The current options are <code>subtractmedian</code> (subtract the median image), <code>subtractmean</code> (subtract the mean image), and <code>subtractprevious</code> (subtract the previous image from the current image). Be careful trying to use <code>subtractmedian</code> on large datasets -- it requires reading the entire dataset into memory at once.</p>"},{"location":"quickstart/#static-illustrations","title":"Static Illustrations\u00b6","text":"<p>We can also simply plot a single time, and save that as a PDF.</p>"},{"location":"quickstart/#bug-reports","title":"Bug Reports\u00b6","text":"<p>You will probably encounter bugs as you play with this yourself. If so, please do not hesitate to contact Zach Berta-Thompson, or leave an issue on the github repository.</p>"}]}